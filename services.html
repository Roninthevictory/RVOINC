<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RVO INC — Services & Automation</title>
<meta name="color-scheme" content="dark"/>

<!-- External SDKs kept -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script src="https://js.stripe.com/v3/"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>

<style>
/* ===========================
   RVO INC — NEON RED DESIGN SYSTEM
   =========================== */
:root {
  --bg-primary: #040013;
  --bg-secondary: #0d0126;
  --bg-tertiary: #1a0b2e;
  --bg-card: rgba(17, 12, 41, 0.95);
  --bg-card-hover: rgba(22, 16, 48, 0.98);
  --bg-card-border: rgba(255, 0, 0, 0.25);
  --bg-card-border-hover: rgba(255, 0, 0, 0.4);
  --accent-primary: #ff0000;
  --accent-secondary: #ff4e4e;
  --accent-tertiary: #ff6b6b;
  --accent-quaternary: #ff8787;
  --accent-glow: rgba(255, 0, 0, 0.6);
  --text-primary: #ffffff;
  --text-secondary: #e6f7ff;
  --text-muted: #b58787;
  --text-muted-light: #d4a3a3;
  --shadow-neon: 0 0 35px rgba(255, 0, 0, 0.4);
  --shadow-neon-hover: 0 0 50px rgba(255, 0, 0, 0.6);
  --shadow-pink: 0 0 30px rgba(255, 78, 78, 0.3);
  --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.3);
  --shadow-card-hover: 0 12px 48px rgba(0, 0, 0, 0.4);
  --gradient-primary: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
  --gradient-secondary: linear-gradient(135deg, var(--accent-secondary), var(--accent-tertiary));
  --gradient-bg: radial-gradient(circle at 20% 20%, rgba(255, 0, 0, 0.1), transparent 40%),
                 radial-gradient(circle at 80% 0%, rgba(255, 78, 78, 0.15), transparent 45%),
                 linear-gradient(160deg, var(--bg-primary), var(--bg-secondary));
}

/* ===========================
   BASE + LAYOUT
   =========================== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui;
  background: var(--gradient-bg);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
}

/* NAV */
nav {
  background: rgba(10, 10, 12, 0.8);
  border-bottom: 1px solid var(--bg-card-border);
  box-shadow: var(--shadow-pink);
  backdrop-filter: blur(16px);
  position: sticky;
  top: 0;
  z-index: 100;
}
nav a {
  text-decoration: none;
  color: var(--text-secondary);
  transition: color .25s, text-shadow .25s;
}
nav a:hover {
  color: var(--accent-primary);
  text-shadow: var(--shadow-neon);
}

/* PAGE HEADER / HERO */
.page-hero {
  padding: 3.5rem 1rem 1.5rem;
  text-align: center;
}
.page-hero h1 {
  font-size: 2.25rem;
  font-weight: 800;
  letter-spacing: .2px;
  color: var(--accent-primary);
  text-shadow: var(--shadow-neon);
}
.page-hero p {
  margin: .75rem auto 0;
  color: var(--text-muted-light);
  max-width: 820px;
}

/* DISCOUNT BAR */
.discount-bar {
  margin: 1.5rem auto 2rem;
  max-width: 980px;
  background: var(--bg-card);
  border: 1px solid var(--bg-card-border);
  box-shadow: var(--shadow-card);
  border-radius: 14px;
  padding: 1rem;
}
.discount-input {
  width: 100%;
  padding: .85rem 1rem;
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--bg-card-border);
  border-radius: 10px;
  color: var(--text-secondary);
  outline: none;
}
.discount-apply {
  background: var(--gradient-primary);
  border: none;
  color: #fff;
  font-weight: 700;
  border-radius: 10px;
  padding: .85rem 1.1rem;
  box-shadow: var(--shadow-card);
  transition: transform .18s, box-shadow .18s;
}
.discount-apply:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-neon-hover);
}
.discount-msg {
  margin-top: .6rem;
  font-size: .95rem;
  color: var(--text-muted);
}

/* CATEGORY SECTION */
.category {
  max-width: 1200px;
  margin: 0 auto 2rem;
  padding: 0 1rem;
}
.category h2 {
  margin: 1.2rem 0 .8rem;
  font-weight: 800;
  font-size: 1.25rem;
  color: var(--accent-secondary);
}

/* SERVICES GRID */
.services-grid {
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(1, minmax(0,1fr));
}
@media (min-width: 640px) {
  .services-grid { grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (min-width: 1024px) {
  .services-grid { grid-template-columns: repeat(3, minmax(0,1fr)); }
}

.service-card {
  background: var(--bg-card);
  border: 1px solid var(--bg-card-border);
  border-radius: 16px;
  padding: 1.1rem;
  box-shadow: var(--shadow-card);
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
}
.service-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-card-hover);
  border-color: var(--bg-card-border-hover);
}
.service-title {
  font-weight: 800; 
  font-size: 1.12rem; 
  margin-bottom: .35rem;
  display: flex;
  align-items: center;
  gap: .5rem;
}
.service-desc { color: var(--text-muted-light); font-size: .95rem; line-height: 1.5; }
.service-tags { margin-top: .5rem; display: flex; flex-wrap: wrap; gap: .4rem; }
.service-tag {
  font-size: .75rem; padding: .25rem .5rem; border-radius: .5rem;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--bg-card-border);
  color: var(--text-secondary);
}
.service-price { font-weight: 800; margin-top: .75rem; }
.service-cta {
  margin-top: .9rem;
  display: flex; 
  gap: .6rem;
  align-items: center;
}
.buy-btn, .view-btn {
  display: inline-flex;
  gap: .45rem;
  align-items: center;
  border: none;
  cursor: pointer;
  border-radius: 10px;
  padding: .7rem .95rem;
  font-weight: 700;
  transition: transform .18s, box-shadow .18s, opacity .18s;
}
.buy-btn {
  background: var(--gradient-primary);
  color: #fff;
  box-shadow: var(--shadow-card);
}
.buy-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-neon-hover); }
.buy-btn[disabled] { opacity: .5; cursor: not-allowed; }
.view-btn {
  background: rgba(255,255,255,0.06);
  color: var(--text-secondary);
  border: 1px solid var(--bg-card-border);
}
.view-btn:hover { transform: translateY(-1px); }

/* LOGIN MODAL */
.modal-backdrop {
  position: fixed; inset: 0; 
  background: rgba(5,0,15,.55);
  backdrop-filter: blur(6px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 3000;
}
.modal {
  width: min(92vw, 520px);
  background: var(--bg-card);
  border: 1px solid var(--bg-card-border);
  border-radius: 16px;
  padding: 1.2rem 1.1rem;
  box-shadow: var(--shadow-card-hover);
}
.modal h3 {
  margin: .25rem 0 .5rem;
  font-size: 1.25rem;
  font-weight: 800;
  color: var(--accent-secondary);
  text-shadow: var(--shadow-neon);
}
.modal p { color: var(--text-muted-light); margin-bottom: .9rem; }
.modal .modal-actions { display: flex; gap: .6rem; justify-content: flex-end; }
.modal .btn {
  padding: .65rem .95rem; border-radius: 10px; font-weight: 700; border: none; cursor: pointer;
}
.btn-primary { background: var(--gradient-primary); color: #fff; }
.btn-ghost { background: rgba(255,255,255,0.06); color: var(--text-secondary); border: 1px solid var(--bg-card-border); }

/* FOOTER */
footer {
  border-top: 1px solid var(--bg-card-border);
  text-align: center;
  color: var(--text-muted);
  padding: 1.5rem;
  margin-top: 3rem;
  font-size: .9rem;
  background: var(--bg-card);
  box-shadow: var(--shadow-card);
}
</style>
</head>

<body>
  <!-- ===========================
       NAVIGATION
       =========================== -->
  <nav>
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="/" class="font-semibold tracking-wide text-lg">RVO INC</a>
      <div class="flex items-center gap-6 text-sm">
        <a href="/services">Services</a>
        <a href="/subscriptions">Subscriptions</a>
        <a href="/affiliates">Affiliates</a>
        <a href="/design">Design</a>
        <a href="/discord">Discord</a>
        <a href="/partners">Partners</a>
        <a href="/tech">Tech</a>
        <a href="/info">Info</a>
        <a href="/coming-soon">Coming&nbsp;Soon</a>
      </div>
      <button id="auth-status-btn" class="text-sm px-3 py-1.5 rounded bg-red-600 hover:bg-red-500">Sign In</button>
    </div>
  </nav>

  <!-- ===========================
       PAGE HERO
       =========================== -->
  <header class="page-hero">
    <h1>RVO INC Services &amp; Automation</h1>
    <p>Professional deployments, custom Discord automation, brand systems, and high-performance web apps — delivered with precision.</p>
  </header>

  <!-- ===========================
       DISCOUNT BAR (always visible)
       =========================== -->
  <section class="discount-bar">
    <div class="flex flex-col sm:flex-row gap-3 items-stretch">
      <input id="discount-code" class="discount-input" placeholder="Enter discount code (e.g., RVOVIP, LAUNCH25)"/>
      <button id="apply-discount" class="discount-apply">Apply Discount</button>
    </div>
    <div id="discount-msg" class="discount-msg"></div>
  </section>

  <!-- ===========================
       CATEGORY SECTIONS (filled by JS)
       =========================== -->
  <section id="categories-root"></section>

  <!-- ===========================
       LOGIN MODAL (shown if not logged in)
       =========================== -->
  <div id="login-modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="loginModalTitle">
    <div class="modal">
      <h3 id="loginModalTitle">Sign in required</h3>
      <p>You must be signed in with your RVO INC account to purchase a service. Please sign in to continue.</p>
      <div class="modal-actions">
        <button id="modal-cancel" class="btn btn-ghost">Cancel</button>
        <button id="modal-signin" class="btn btn-primary">Sign in</button>
      </div>
    </div>
  </div>

  <!-- ===========================
       FOOTER
       =========================== -->
  <footer>
    © <span id="year"></span> RVO&nbsp;INC — All rights reserved.
  </footer>

  <!-- ===========================
       INLINE JS (Firebase + Dynamic Services + Discount + Auth-gated Stripe)
       =========================== -->
  <script>
  /* ---------------------------
     DATA STRUCTURES (from your index)
     --------------------------- */
  const allServices = [
    // --- Web Frontend ---
    { id: 1, name: "Responsive Static Website", description: "Full implementation of a modern, fast static site using HTML/CSS/JS.", category: "Web Frontend", tags: ["HTML", "CSS", "JavaScript", "Frontend", "Static"], icon: "monitor", price: "$29.99", stripeLink: "https://buy.stripe.com/cNicN52L06H6cMveTk9EI1D" },
    { id: 2, name: "React Component Development", description: "Building reusable, optimized components with React and functional hooks.", category: "Web Frontend", tags: ["React", "JavaScript", "Frontend", "Components"], icon: "layout-grid", price: "$35.00", stripeLink: "https://buy.stripe.com/6oUbJ1gBQ6H65k34eG9EI1B" },
    { id: 3, name: "Angular Module Development", description: "Developing structured modules and components using the Angular framework.", category: "Web Frontend", tags: ["Angular", "TypeScript", "Modules", "Frontend"], icon: "git-fork", price: "$25.00", stripeLink: "https://buy.stripe.com/aFa7sL0CSaXm5k326y9EI1C" },
    { id: 4, name: "Tailwind CSS Integration", description: "Implementing utility-first styling for rapid, responsive UI design.", category: "Web Frontend", tags: ["Tailwind", "CSS", "Frontend", "Styling"], icon: "palette", price: "$15.00", stripeLink: "https://buy.stripe.com/28EfZh71gaXm7sb7qS9EI1A" },
    { id: 5, name: "State Management Implementation (Redux/Zustand)", description: "Setting up efficient, predictable state management solutions.", category: "Web Frontend", tags: ["Redux", "Zustand", "React", "State Management"], icon: "pocket", price: "$50.00", stripeLink: "https://buy.stripe.com/28E9ATfxMfdC6o726y9EI1z" },
    { id: 6, name: "Progressive Web App (PWA) Setup", description: "Enabling offline capabilities and installability for web applications.", category: "Web Frontend", tags: ["PWA", "Web App", "Offline", "Frontend"], icon: "smartphone", price: "$100.00", stripeLink: "https://buy.stripe.com/5kQ3cv99o8PeeUDdPg9EI1y" },
    { id: 7, name: "Custom JavaScript Utility Libraries", description: "Writing modular, highly optimized vanilla JavaScript functions.", category: "Web Frontend", tags: ["JavaScript", "Library", "Optimization"], icon: "activity", price: "$50.00", stripeLink: "https://buy.stripe.com/5kQ00jbhw8PefYHbH89EI1x" },
    { id: 8, name: "Web Accessibility (A11y) Audit & Fixes", description: "Ensuring WCAG compliance for an inclusive user experience.", category: "Web Frontend", tags: ["Accessibility", "A11y", "Frontend", "WCAG"], icon: "eye", price: "$199.00", stripeLink: "https://buy.stripe.com/eVq5kDetI2qQaEnfXo9EI1w" },
    { id: 9, name: "Next.js/Gatsby Static Site Generation (SSG)", description: "Building highly performant, SEO-friendly static sites using modern frameworks.", category: "Web Frontend", tags: ["Next.js", "Gatsby", "Static Site", "Frontend"], icon: "cpu", price: "$70.00", stripeLink: "https://buy.stripe.com/fZu7sL0CSc1qfYH9z09EI1v" },
    { id: 10, name: "Web Performance Optimization (Core Web Vitals)", description: "Improving loading speed, interactivity, and visual stability for high scores.", category: "Web Frontend", tags: ["Performance", "SEO", "Core Web Vitals"], icon: "zap", price: "$49.00", stripeLink: "https://buy.stripe.com/aFa8wP99o2qQ3bVfXo9EI1u" },
    { id: 11, name: "Advanced CSS/SVG Animation (GSAP/Framer)", description: "Creating smooth, complex motion graphics and interactive UI elements.", category: "Web Frontend", tags: ["Animation", "CSS", "SVG", "GSAP", "Framer"], icon: "sparkles", price: "$100.00", stripeLink: "https://buy.stripe.com/8x26oH85k7La3bVaD49EI1t" },
    { id: 12, name: "Cross-Browser Compatibility Testing", description: "Ensuring consistent functionality and display across all major browsers.", category: "Web Frontend", tags: ["Testing", "Cross-Browser", "Compatibility"], icon: "globe", price: "$40.00", stripeLink: "https://buy.stripe.com/00w14n0CS6H63bVcLc9EI1s" },
    { id: 13, name: "Component Library Development (Storybook)", description: "Creating a centralized, documented system for UI component design.", category: "Web Frontend", tags: ["Storybook", "UI Library", "Documentation"], icon: "book-open", price: "$349", stripeLink: "https://buy.stripe.com/00w9AT4T8d5ubIr7qS9EI1r" },

    // --- Backend & API ---
    { id: 14, name: "Node.js/Express API Development", description: "Building fast and scalable RESTful APIs using the Node.js ecosystem.", category: "Backend & API", tags: ["Node.js", "Express", "API", "Backend"], icon: "server", price: "$100", stripeLink: "https://buy.stripe.com/8x27sL85kghGfYH4eG9EI1q" },
    { id: 15, name: "Python/Django Backend Development", description: "Creating robust, secure web backends with Django or Flask.", category: "Backend & API", tags: ["Python", "Django", "Flask", "Backend"], icon: "terminal", price: "$120", stripeLink: "https://buy.stripe.com/7sY00jclA5D2bIrcLc9EI1p" },
    { id: 16, name: "Microservice Architecture Design", description: "Breaking down monolithic applications into scalable, independent services.", category: "Backend & API", tags: ["Microservices", "Architecture", "Backend"], icon: "hexagon", price: "$500", stripeLink: "https://buy.stripe.com/fZucN52L05D24fZcLc9EI1o" },
    { id: 17, name: "GraphQL Endpoint Implementation", description: "Developing efficient data querying layers with GraphQL.", category: "Backend & API", tags: ["GraphQL", "API", "Backend"], icon: "link", price: "$75", stripeLink: "https://buy.stripe.com/cNi28r71g7La9AjbH89EI1n" },
    { id: 18, name: "Serverless Function Deployment (AWS Lambda/Firebase)", description: "Setting up event-driven serverless backends for cost efficiency.", category: "Backend & API", tags: ["Serverless", "AWS", "Firebase"], icon: "cloud", price: "$70", stripeLink: "https://buy.stripe.com/14A8wPbhw7La13N8uW9EI1m" },
    { id: 19, name: "Authentication and Authorization Setup (OAuth/JWT)", description: "Implementing secure user login and role-based access control.", category: "Backend & API", tags: ["OAuth", "JWT", "Auth", "Security"], icon: "lock", price: "$50", stripeLink: "https://buy.stripe.com/3cI6oHetI6H6fYHcLc9EI1l" },
    { id: 20, name: "Third-Party API Integration", description: "Connecting your system to external services (e.g., payment, weather, map APIs).", category: "Backend & API", tags: ["API", "Integration", "Backend"], icon: "plug", price: "$199", stripeLink: "https://buy.stripe.com/7sY14netI0iI4fZcLc9EI1k" },
    { id: 21, name: "(Currently Not Available) Real-time Communication (WebSockets)", description: "Implementing live updates and chat functionality.", category: "Backend & API", tags: ["WebSockets", "Realtime", "Chat"], icon: "message-square", price: "Not Available", stripeLink: null },
    { id: 22, name: "API Documentation (Swagger/OpenAPI)", description: "Creating clear, interactive documentation for your endpoints.", category: "Backend & API", tags: ["Swagger", "OpenAPI", "Docs"], icon: "book-open", price: "$50", stripeLink: "https://buy.stripe.com/8x25kDclA7La13NeTk9EI1j" },

    // --- Database ---
    { id: 23, name: "SQL Database Design & Normalization", description: "Designing optimal schemas for PostgreSQL, MySQL, or SQL Server.", category: "Database", tags: ["SQL", "PostgreSQL", "MySQL", "Schema"], icon: "database", price: "$199", stripeLink: "https://buy.stripe.com/9B6cN5clAghGcMvcLc9EI1i" },
    { id: 24, name: "NoSQL Schema Design (MongoDB/Firebase)", description: "Structuring flexible and performant NoSQL data models.", category: "Database", tags: ["NoSQL", "MongoDB", "Firebase"], icon: "layers", price: "$100", stripeLink: "https://buy.stripe.com/bJe00jclA5D26o79z09EI1h" },
    { id: 25, name: "ETL Pipeline Development", description: "Building data extraction, transformation, and loading processes.", category: "Database", tags: ["ETL", "Data", "Pipeline"], icon: "box", price: "$155", stripeLink: "https://buy.stripe.com/fZu6oH1GW0iI3bVaD49EI1g" },

    // --- Mobile ---
    { id: 26, name: "React Native Feature Implementation", description: "Adding cross-platform features to existing or new React Native apps.", category: "Mobile", tags: ["React Native", "Mobile", "Cross Platform"], icon: "app-window", price: "$100", stripeLink: "https://buy.stripe.com/8x228r71g4yY5k3cLc9EI1d" },
    { id: 27, name: "Flutter UI/Logic Development", description: "Building beautiful and performant mobile UIs with Flutter (Dart).", category: "Mobile", tags: ["Flutter", "Dart", "UI", "Mobile"], icon: "tablet", price: "$299", stripeLink: "https://buy.stripe.com/3cI28r71g9Tih2Lh1s9EI1e" },
    { id: 28, name: "Mobile Push Notification Setup", description: "Integrating Firebase Cloud Messaging (FCM) or similar services.", category: "Mobile", tags: ["Notifications", "Mobile", "Firebase"], icon: "bell", price: "$199", stripeLink: "https://buy.stripe.com/cNi8wPbhwghG27R8uW9EI1f" },

    // --- Game Development ---
    { id: 29, name: "Unity Engine 2D/3D Scene Setup", description: "Initial scene, camera, and asset integration in the Unity environment. (Assets must be provided by client.)", category: "Game Dev", tags: ["Unity", "C#", "2D", "3D", "Game"], icon: "gamepad-2", price: "$200", stripeLink: "https://buy.stripe.com/4gM4gzclA4yY3bV7qS9EI1c" },
    { id: 30, name: "C# Game Logic Scripting", description: "Writing core game mechanics and systems in optimized C# scripts.", category: "Game Dev", tags: ["Unity", "C#", "Game Logic"], icon: "code", price: "$299", stripeLink: "https://buy.stripe.com/6oU3cvgBQ5D2fYH6mO9EI1b" },
    { id: 31, name: "Basic Multiplayer Networking Setup", description: "Implementing simple peer-to-peer or server-authoritative connections.", category: "Game Dev", tags: ["Networking", "Multiplayer", "Unity"], icon: "users", price: "$500", stripeLink: "https://buy.stripe.com/fZubJ1fxMfdC5k3eTk9EI1a" },

    // --- Consulting ---
    { id: 32, name: "Technical Consulting Session", description: "One-on-one session for technical roadmap planning and architecture guidance.", category: "Consulting", tags: ["Consulting", "Architecture", "Planning"], icon: "brain", price: "FREE", stripeLink: "https://buy.stripe.com/00w14nclAghGfYH5iK9EI19" },
    { id: 33, name: "In-Depth Code Review & Refactoring", description: "Thorough review for best practices, security, and performance improvements.", category: "Consulting", tags: ["Code Review", "Security", "Optimization"], icon: "file-check", price: "$30 / Hour", stripeLink: "https://buy.stripe.com/5kQdR94T85D27sbdPg9EI18" },
    { id: 34, name: "Security Vulnerability Patching", description: "Addressing common security issues like XSS, CSRF, and SQL injection.", category: "Consulting", tags: ["Security", "Vulnerability", "Fix"], icon: "bug", price: "$50 / hour", stripeLink: "https://mock-stripe.com/buy/rvo-security-299" }
  ];

  const digitalDesignData = [
    { id: 1, name: "RVO GridLine", description: "Architected channel layouts designed for flow, clarity, and visual precision.", category: "Digital Design", tags: ["Channels","Layout","Organization","Structure"], icon: "grid", price: "$0.75 / channel", stripeLink: "https://buy.stripe.com/mock-gridline" },
    { id: 2, name: "RVO TierForge", description: "Dynamic, color-coded role hierarchy for staff, boosters, and members.", category: "Digital Design", tags: ["Roles","Permissions","Hierarchy","Design"], icon: "shield", price: "$0.50 / role", stripeLink: "https://buy.stripe.com/mock-tierforge" },
    { id: 3, name: "RVO PermiCore", description: "Complete channel permission cleanup and security setup with logging.", category: "Digital Design", tags: ["Permissions","Security","Access","Setup"], icon: "lock", price: "$0.25 / permission set", stripeLink: "https://buy.stripe.com/mock-permicore" },
    { id: 4, name: "RVO BotForge", description: "Professional Discord bot setup and integration with custom commands.", category: "Digital Design", tags: ["Bots","Automation","Setup","Integration"], icon: "cpu", price: "$1.00 / bot", stripeLink: "https://buy.stripe.com/mock-botforge" },
    { id: 5, name: "RVO SyncFlow", description: "Automated server workflows from welcome triggers to XP systems.", category: "Digital Design", tags: ["Automation","Bot","XP","Roles"], icon: "repeat", price: "$0.75 / feature", stripeLink: "https://buy.stripe.com/mock-syncflow" },
    { id: 6, name: "RVO VibeFrame", description: "Visual styling for your server including emojis, colors, and layout.", category: "Digital Design", tags: ["Branding","Style","Color","Aesthetic"], icon: "palette", price: "$0.75 / element", stripeLink: "https://buy.stripe.com/mock-vibeframe" },
    { id: 7, name: "RVO EchoSet", description: "Custom identity package including icons, banners, and emoji design.", category: "Digital Design", tags: ["Branding","Identity","Assets","Graphics"], icon: "image", price: "$1.00 / asset", stripeLink: "https://buy.stripe.com/mock-echoset" },
    { id: 8, name: "RVO SentinelCore", description: "Protection layers and anti-raid configuration for secure servers.", category: "Digital Design", tags: ["Security","Protection","Verification","Logging"], icon: "shield-check", price: "$0.75 / layer", stripeLink: "https://buy.stripe.com/mock-sentinelcore" },
    { id: 9, name: "RVO ModStack", description: "Staff and moderation system setup with logs, tickets, and templates.", category: "Digital Design", tags: ["Moderation","Staff","Logs","Tickets"], icon: "tools", price: "$1.00 / module", stripeLink: "https://buy.stripe.com/mock-modstack" },
    { id: 10, name: "RVO BoostNet", description: "Engagement systems including invite tracking, XP roles, and leaderboards.", category: "Digital Design", tags: ["Growth","XP","Leaderboard","Invites"], icon: "rocket", price: "$0.75 / feature", stripeLink: "https://buy.stripe.com/mock-boostnet" },
    { id: 11, name: "RVO SupportLink", description: "Ticket system setup for support, orders, and feedback.", category: "Digital Design", tags: ["Support","Tickets","Moderation","Workflow"], icon: "ticket", price: "$1.00 / ticket type", stripeLink: "https://buy.stripe.com/mock-supportlink" },
    { id: 12, name: "RVO EventPulse", description: "Event automation and announcement system with reminders and embeds.", category: "Digital Design", tags: ["Events","Automation","Reminders","Community"], icon: "calendar", price: "$0.50 / event", stripeLink: "https://buy.stripe.com/mock-eventpulse" },
    { id: 13, name: "RVO NexusPrime", description: "Complete modular server system combining structure, automation, and design.", category: "Digital Design", tags: ["FullServer","Automation","Design","Structure"], icon: "server", price: "$0.50 / element", stripeLink: "https://buy.stripe.com/mock-nexusprime" },
    { id: 14, name: "RVO CustomForge", description: "Custom-built Discord ecosystem designed from scratch for brands or large communities.", category: "Digital Design", tags: ["Custom","FullServer","Brand","Automation"], icon: "hammer", price: "$0.25 / configured item", stripeLink: "https://buy.stripe.com/mock-customforge" }
  ];

  const graphicDesignData = [
    { id: 1, name: "Logo Design Package", description: "Complete logo design including concept development, multiple variations, and final files.", category: "Graphic Design", tags: ["Logo", "Branding", "Identity"], icon: "circle", price: "$199.00", stripeLink: "https://buy.stripe.com/mock-graphic-1" }
  ];

  /* ---------------------------
     Firebase (your real config)
     --------------------------- */
  const firebaseConfig = {
    apiKey: "AIzaSyATMtyx9nuwIcv-OWODFIQA4NOtDzqTqJc",
    authDomain: "rvoincwebsite.firebaseapp.com",
    projectId: "rvoincwebsite",
    storageBucket: "rvoincwebsite.firebasestorage.app",
    messagingSenderId: "675340459793",
    appId: "1:675340459793:web:89dd0ecce1f1c3ee1336b0"
  };
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const authBtn = document.getElementById('auth-status-btn');
  auth.onAuthStateChanged(user => {
    if (user) {
      authBtn.textContent = 'Sign Out';
      authBtn.onclick = () => auth.signOut();
      setBuyState(true);
    } else {
      authBtn.textContent = 'Sign In';
      authBtn.onclick = () => startGoogleLogin();
      setBuyState(false);
    }
  });
  function startGoogleLogin(){
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider);
  }

  /* ---------------------------
     Discount System (visible)
     --------------------------- */
  const discountCodes = {
    // "RVOVIP": { type: "percent", value: 20 },
    // "LAUNCH25": { type: "percent", value: 25 },
    // "WELCOME10": { type: "amount", value: 10 },
  };
  let activeDiscount = null;

  const discountInput = document.getElementById('discount-code');
  const discountApply = document.getElementById('apply-discount');
  const discountMsg = document.getElementById('discount-msg');

  discountApply.addEventListener('click', () => {
    const code = (discountInput.value || '').trim().toUpperCase();
    if (code && discountCodes[code]) {
      activeDiscount = { code, ...discountCodes[code] };
      renderAll();
      discountMsg.textContent = `Discount “${code}” applied.`;
    } else if (code) {
      activeDiscount = null;
      renderAll();
      discountMsg.textContent = 'Invalid or expired discount code.';
    } else {
      activeDiscount = null;
      renderAll();
      discountMsg.textContent = '';
    }
  });

  function parsePriceToNumber(p) {
    if (typeof p === 'number') return p;
    if (!p) return 0;
    // handles "$49.00" or "$30 / Hour" etc. We'll extract the first number.
    const m = String(p).match(/([0-9]+(\.[0-9]+)?)/);
    return m ? Number(m[1]) : 0;
  }
  function formatPrice(num, original) {
    if (String(original).toLowerCase().includes('hour')) return `$${num.toFixed(2)} / Hour`;
    return `$${num.toFixed(2)}`;
  }
  function discountPrice(original, code) {
    const base = parsePriceToNumber(original);
    if (!activeDiscount) return original;
    if (activeDiscount.type === 'percent') {
      const reduced = Math.max(0, base - (base * activeDiscount.value / 100));
      return formatPrice(reduced, original);
    }
    if (activeDiscount.type === 'amount') {
      const reduced = Math.max(0, base - activeDiscount.value);
      return formatPrice(reduced, original);
    }
    return original;
  }

  /* ---------------------------
     Category Rendering
     --------------------------- */
  const categoriesRoot = document.getElementById('categories-root');

  function groupByCategory(items) {
    const map = {};
    items.forEach(it => {
      const cat = it.category || 'Other';
      if (!map[cat]) map[cat] = [];
      map[cat].push(it);
    });
    return map;
  }

  function renderCategoryBlock(title, items) {
    const wrap = document.createElement('section');
    wrap.className = 'category';
    wrap.innerHTML = `<h2>${escapeHtml(title)}</h2><div class="services-grid"></div>`;
    const grid = wrap.querySelector('.services-grid');

    items.forEach(it => {
      const priceDisplay = discountPrice(it.price, activeDiscount?.code);
      const disabled = !it.stripeLink || it.price.toString().toLowerCase().includes('not available');

      const card = document.createElement('article');
      card.className = 'service-card';
      card.innerHTML = `
        <div class="service-title">
          <i data-lucide="${escapeAttr(it.icon || 'package')}"></i>
          <span>${escapeHtml(it.name)}</span>
        </div>
        <div class="service-desc">${escapeHtml(it.description)}</div>
        <div class="service-tags">
          ${(it.tags || []).map(t => `<span class="service-tag">${escapeHtml(t)}</span>`).join('')}
        </div>
        <div class="service-price">${escapeHtml(priceDisplay)}</div>
        <div class="service-cta">
          <button class="buy-btn" data-link="${it.stripeLink || ''}" ${disabled ? 'disabled' : ''}>Buy</button>
          <a class="view-btn" href="/info" target="_self">Details</a>
        </div>
      `;
      grid.appendChild(card);
    });

    categoriesRoot.appendChild(wrap);
  }

  function renderAll() {
    categoriesRoot.innerHTML = '';
    const full = [
      ...allServices,
      ...digitalDesignData,
      ...graphicDesignData
    ];
    const grouped = groupByCategory(full);
    // Order categories as in your intent:
    const order = ["Web Frontend","Backend & API","Database","Mobile","Game Dev","Digital Design","Graphic Design","Consulting"];
    order.forEach(cat => { if (grouped[cat]) renderCategoryBlock(cat, grouped[cat]); });
    // Any remaining categories not listed
    Object.keys(grouped).forEach(cat => { if (!order.includes(cat)) renderCategoryBlock(cat, grouped[cat]); });

    // Icons
    if (window.lucide && lucide.createIcons) lucide.createIcons();

    // Auth-gate buy buttons
    const user = auth.currentUser;
    setBuyState(!!user);

    // Hook up buys
    categoriesRoot.querySelectorAll('.buy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const user = auth.currentUser;
        const link = btn.getAttribute('data-link') || '';
        if (!user) { openLoginModal(); return; }
        if (!link) return;
        // NOTE: buy.stripe.com links are fixed-price; discount here is visual only unless you map codes to specific discounted links.
        window.location.href = link;
      });
    });
  }

  function setBuyState(enabled) {
    categoriesRoot.querySelectorAll('.buy-btn').forEach(b => b.disabled = !enabled || !b.getAttribute('data-link'));
  }

  function escapeHtml(str){
    return (str || '').replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
  }
  function escapeAttr(str){
    return (str || '').replace(/"/g, '&quot;');
  }

  /* ---------------------------
     Login Modal
     --------------------------- */
  const modal = document.getElementById('login-modal');
  const modalCancel = document.getElementById('modal-cancel');
  const modalSignin = document.getElementById('modal-signin');

  function openLoginModal(){
    modal.querySelector('p').textContent = "You must be signed in with your RVO INC account to purchase a service. Please sign in to continue.";
    modal.style.display = 'flex';
  }
  function closeLoginModal(){ modal.style.display = 'none'; }
  modalCancel.addEventListener('click', closeLoginModal);
  modalSignin.addEventListener('click', () => { closeLoginModal(); startGoogleLogin(); });
  modal.addEventListener('click', (e) => { if (e.target === modal) closeLoginModal(); });

  /* ---------------------------
     Misc Init
     --------------------------- */
  document.getElementById("year").textContent = new Date().getFullYear();

  // Clean URLs + same-tab
  document.querySelectorAll('a').forEach(a => {
    const href = a.getAttribute('href') || '';
    if (href.startsWith('#')) {
      const slug = href.replace(/^#/, '').toLowerCase().replace(/[^a-z0-9\- ]+/g,'').replace(/\s+/g,'-');
      a.setAttribute('href', (['home','top','start','hero','landing'].includes(slug)) ? '/' : '/' + slug);
    }
    if (href.startsWith('/')) a.setAttribute('target','_self');
  });

  // First paint
  renderAll();
  </script>
</body>
</html>
